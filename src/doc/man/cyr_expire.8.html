<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Mon Dec 21 08:17:56 2009 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title>CYR_EXPIRE *</title>
</head>
<body>

<h1 align=center>CYR_EXPIRE *</h1>
<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>
<a name="NAME"></a>
<h2>NAME</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p>cyr_expire &minus; expire messages and duplicate delivery
database entries</p>
</td>
</table>
<a name="SYNOPSIS"></a>
<h2>SYNOPSIS</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>cyr_expire</b> [ <b>&minus;C</b> <i>config-file</i> ]
[ <b>&minus;D</b> <i>delete-days</i> ] <b>&minus;E</b>
<i>expire-days</i> [ <b>&minus;X</b> <i>expunge-days</i> ] [
<b>&minus;p mailbox-prefix</b> ] [ <b>&minus;v</b> ]</p>
</td>
</table>
<a name="DESCRIPTION"></a>
<h2>DESCRIPTION</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><i>Cyr_expire</i> is used to expire messages and
duplicate delivery database entries. <i>Cyr_expire</i> also
cleanses mailboxes of partially expunged messages (when
using the &quot;delayed&quot; expunge mode). The expiration
of messages is controlled by the
<b>/vendor/cmu/cyrus-imapd/expire</b> mailbox annotation
which specifies the age (in days) of messages in the given
mailbox that should be deleted. Any duplicate delivery
database entries which correspond to the mailbox are also
deleted at the same frequency.</p>
<!-- INDENTATION -->
<p>The value of the <b>/vendor/cmu/cyrus-imapd/expire</b>
annotation is inherited by all children of the given
mailbox, so an entire mailbox tree can be expired by seting
a single annotation on the root of that tree. If a mailbox
does not have a <b>/vendor/cmu/cyrus-imapd/expire</b>
annotation set on it (or does not inherit one), then no
messages are expired from the mailbox.</p>
<!-- INDENTATION -->
<p><i>Cyr_expire</i> reads its configuration options out of
the <i>imapd.conf</i>(5) file unless specified otherwise by
<b>-C</b>.</p>
</td>
</table>
<a name="OPTIONS"></a>
<h2>OPTIONS</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>&minus;C</b> <i>config-file</i></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td>
<td width="77%">
<p>Read configuration options from <i>config-file</i>.</p>
</td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>&minus;D</b> <i>delete-days</i></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td>
<td width="77%">
<p>Remove previously deleted mailboxes older than
<i>delete-days</i> (when using the &quot;delayed&quot;
delete mode).</p>
</td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>&minus;E</b> <i>expire-days</i></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td>
<td width="77%">
<p>Prune the duplicate database of entries older than
<i>expire-days</i>. This value is only used for entries
which do not have a corresponding
<b>/vendor/cmu/cyrus-imapd/expire</b> mailbox
annotation.</p>
</td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>&minus;X</b> <i>expunge-days</i></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td>
<td width="77%">
<p>Expunge previously deleted messages older than
<i>expunge-days</i> (when using the &quot;delayed&quot;
expunge mode).</p>
</td>
</table>
<!-- TABS -->
<table width="100%" border=0 rules="none" frame="void"
       cols="4" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="13%"></td>
<td width="2%">

<p><b>&minus;x</b></p>
</td>
<td width="5%"></td>
<td width="77%">

<p>Do not expunge messages even if using delayed expunge
mode (reduces the IO hit considerably, allowing you to run
cyr_expire frequently to clean up the duplicate database
without overloading your server)</p>
</td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>&minus;p</b> <i>mailbox-prefix</i></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="21%"></td>
<td width="77%">
<p>Only find mailboxes starting with this prefix. e.g.
&quot;user.justgotspammedlots&quot;</p>
</td>
</table>
<!-- TABS -->
<table width="100%" border=0 rules="none" frame="void"
       cols="4" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">

<p><b>&minus;v</b></p>
</td>
<td width="2%"></td>
<td width="77%">

<p>Enable verbose output.</p>
</td>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="7%">

<p><b>&minus;a</b></p>
</td>
<td width="2%"></td>
<td width="77%">

<p>Skip the annotation lookup, so all
<b>/vendor/cmu/cyrus-imapd/expire</b> annotations are
ignored entirely. It behaves as if they were not set, so
only <i>expire-days</i> is considered for all mailboxes.</p>
</td>
</table>
<a name="FILES"></a>
<h2>FILES</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>/etc/imapd.conf</b></p></td>
</table>
<a name="SEE ALSO"></a>
<h2>SEE ALSO</h2>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="89%">
<p><b>imapd.conf(5)</b>, <b>master(8)</b></p>
</td>
</table>
<hr>
</body>
</html>
